{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"alerts\"\n};\nconst _hoisted_2 = {\n  class: \"row mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"col-12\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\nconst _hoisted_5 = {\n  class: \"card-header d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"text-center\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"text-center text-muted\"\n};\nconst _hoisted_9 = {\n  key: 2\n};\nconst _hoisted_10 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_11 = {\n  class: \"table table-hover\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = {\n  class: \"row\"\n};\nconst _hoisted_15 = {\n  class: \"col-12\"\n};\nconst _hoisted_16 = {\n  class: \"card\"\n};\nconst _hoisted_17 = {\n  class: \"card-body\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"text-center text-muted\"\n};\nconst _hoisted_19 = {\n  key: 1\n};\nconst _hoisted_20 = {\n  class: \"d-flex justify-content-between align-items-start\"\n};\nconst _hoisted_21 = {\n  class: \"alert-heading\"\n};\nconst _hoisted_22 = {\n  class: \"mb-1\"\n};\nconst _hoisted_23 = {\n  class: \"text-muted\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_26 = {\n  class: \"modal-content\"\n};\nconst _hoisted_27 = {\n  class: \"modal-header\"\n};\nconst _hoisted_28 = {\n  class: \"modal-title\"\n};\nconst _hoisted_29 = {\n  class: \"modal-body\"\n};\nconst _hoisted_30 = {\n  class: \"mb-3\"\n};\nconst _hoisted_31 = {\n  class: \"mb-3\"\n};\nconst _hoisted_32 = [\"value\"];\nconst _hoisted_33 = {\n  class: \"row\"\n};\nconst _hoisted_34 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_35 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_36 = {\n  class: \"mb-3\"\n};\nconst _hoisted_37 = {\n  class: \"form-check\"\n};\nconst _hoisted_38 = {\n  class: \"form-check\"\n};\nconst _hoisted_39 = {\n  class: \"form-check mb-3\"\n};\nconst _hoisted_40 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_41 = {\n  key: 0,\n  class: \"modal-backdrop fade show\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[31] || (_cache[31] = _createElementVNode(\"div\", {\n    class: \"row\"\n  }, [_createElementVNode(\"div\", {\n    class: \"col-12\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"mb-4\"\n  }, \"üîî Alerts & Notifications\")])], -1 /* CACHED */)), _createCommentVNode(\" Alert Rules \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[13] || (_cache[13] = _createElementVNode(\"h5\", {\n    class: \"mb-0\"\n  }, \"Alert Rules\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.showCreateModal = true)\n  }, _cache[12] || (_cache[12] = [_createElementVNode(\"i\", {\n    class: \"bi bi-plus-circle\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" Create Alert Rule \", -1 /* CACHED */)]))]), _createElementVNode(\"div\", _hoisted_6, [_ctx.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _cache[14] || (_cache[14] = [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */)]))) : _ctx.alertRules.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _cache[15] || (_cache[15] = [_createElementVNode(\"p\", null, \"No alert rules configured. Create your first rule to get started.\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"table\", _hoisted_11, [_cache[18] || (_cache[18] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"AOI\"), _createElementVNode(\"th\", null, \"Condition\"), _createElementVNode(\"th\", null, \"Threshold\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alertRules, rule => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: rule.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(rule.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(rule.aoi_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(rule.condition), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(rule.threshold), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"badge\", rule.is_active ? 'bg-success' : 'bg-secondary'])\n    }, _toDisplayString(rule.is_active ? 'Active' : 'Inactive'), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-outline-primary me-1\",\n      onClick: $event => $options.editRule(rule)\n    }, [...(_cache[16] || (_cache[16] = [_createElementVNode(\"i\", {\n      class: \"bi bi-pencil\"\n    }, null, -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-outline-danger\",\n      onClick: $event => $options.deleteRule(rule.id)\n    }, [...(_cache[17] || (_cache[17] = [_createElementVNode(\"i\", {\n      class: \"bi bi-trash\"\n    }, null, -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_13)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]))])])])]), _createCommentVNode(\" Recent Alerts \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"mb-0\"\n  }, \"Recent Alerts\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_17, [_ctx.alerts.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _cache[19] || (_cache[19] = [_createElementVNode(\"p\", null, \"No recent alerts\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alerts, alert => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: alert.id,\n      class: _normalizeClass([\"alert\", $options.getAlertClass(alert.level)])\n    }, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", null, [_createElementVNode(\"h6\", _hoisted_21, _toDisplayString(alert.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_22, _toDisplayString(alert.message), 1 /* TEXT */), _createElementVNode(\"small\", _hoisted_23, \" AOI: \" + _toDisplayString(alert.aoi_name) + \" | \" + _toDisplayString($options.formatDate(alert.created_at)), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      class: \"btn-close\",\n      onClick: $event => $options.dismissAlert(alert.id)\n    }, null, 8 /* PROPS */, _hoisted_24)])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))]))])])])]), _createCommentVNode(\" Create/Edit Modal \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"modal fade\", {\n      show: $data.showCreateModal\n    }]),\n    style: _normalizeStyle({\n      display: $data.showCreateModal ? 'block' : 'none'\n    }),\n    tabindex: \"-1\"\n  }, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"h5\", _hoisted_28, _toDisplayString($data.editingRule ? 'Edit Alert Rule' : 'Create Alert Rule'), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.closeModal && $options.closeModal(...args))\n  })]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.saveRule && $options.saveRule(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_30, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Rule Name *\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.ruleForm.name = $event),\n    type: \"text\",\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.ruleForm.name]])]), _createElementVNode(\"div\", _hoisted_31, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"AOI *\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.ruleForm.aoi_id = $event),\n    class: \"form-select\",\n    required: \"\"\n  }, [_cache[22] || (_cache[22] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Select an AOI\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.aois, aoi => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: aoi.id,\n      value: aoi.id\n    }, _toDisplayString(aoi.name), 9 /* TEXT, PROPS */, _hoisted_32);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.ruleForm.aoi_id]])]), _createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"div\", _hoisted_34, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Condition\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.ruleForm.condition = $event),\n    class: \"form-select\"\n  }, _cache[24] || (_cache[24] = [_createElementVNode(\"option\", {\n    value: \"change_percentage\"\n  }, \"Change Percentage\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"vegetation_loss\"\n  }, \"Vegetation Loss\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"urban_expansion\"\n  }, \"Urban Expansion\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"water_changes\"\n  }, \"Water Changes\", -1 /* CACHED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.ruleForm.condition]])]), _createElementVNode(\"div\", _hoisted_35, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Threshold\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.ruleForm.threshold = $event),\n    type: \"number\",\n    class: \"form-control\",\n    min: \"0\",\n    step: \"0.1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.ruleForm.threshold]])])]), _createElementVNode(\"div\", _hoisted_36, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Notification Method\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_37, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.ruleForm.email_enabled = $event),\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    id: \"emailEnabled\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.ruleForm.email_enabled]]), _cache[27] || (_cache[27] = _createElementVNode(\"label\", {\n    class: \"form-check-label\",\n    for: \"emailEnabled\"\n  }, \"Email Notifications\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_38, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.ruleForm.webhook_enabled = $event),\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    id: \"webhookEnabled\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.ruleForm.webhook_enabled]]), _cache[28] || (_cache[28] = _createElementVNode(\"label\", {\n    class: \"form-check-label\",\n    for: \"webhookEnabled\"\n  }, \"Webhook Notifications\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_39, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.ruleForm.is_active = $event),\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    id: \"ruleActive\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.ruleForm.is_active]]), _cache[30] || (_cache[30] = _createElementVNode(\"label\", {\n    class: \"form-check-label\",\n    for: \"ruleActive\"\n  }, \" Rule is active \", -1 /* CACHED */))])], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, \"Cancel\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.saveRule && $options.saveRule(...args))\n  }, _toDisplayString($data.editingRule ? 'Update' : 'Create') + \" Rule \", 1 /* TEXT */)])])])], 6 /* CLASS, STYLE */), _createCommentVNode(\" Modal backdrop \"), $data.showCreateModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_41)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","$event","$data","showCreateModal","_hoisted_6","_ctx","isLoading","_hoisted_7","role","alertRules","length","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","rule","key","id","_toDisplayString","name","aoi_name","condition","threshold","_normalizeClass","is_active","$options","editRule","deleteRule","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","alerts","_hoisted_18","_hoisted_19","alert","getAlertClass","level","_hoisted_20","_hoisted_21","title","_hoisted_22","message","_hoisted_23","formatDate","created_at","dismissAlert","show","style","_normalizeStyle","display","tabindex","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","editingRule","type","args","closeModal","_hoisted_29","onSubmit","_withModifiers","saveRule","_hoisted_30","ruleForm","required","_hoisted_31","aoi_id","value","aois","aoi","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","min","step","_hoisted_36","_hoisted_37","email_enabled","for","_hoisted_38","webhook_enabled","_hoisted_39","_hoisted_40","_hoisted_41"],"sources":["C:\\Users\\ASUS\\OneDrive\\ÁîªÂÉè\\„Éâ„Ç≠„É•„É°„É≥„Éà\\Desktop\\cursor demo\\frontend\\src\\views\\Alerts.vue"],"sourcesContent":["<template>\r\n  <div class=\"alerts\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <h1 class=\"mb-4\">üîî Alerts & Notifications</h1>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Alert Rules -->\r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n            <h5 class=\"mb-0\">Alert Rules</h5>\r\n            <button class=\"btn btn-primary\" @click=\"showCreateModal = true\">\r\n              <i class=\"bi bi-plus-circle\"></i> Create Alert Rule\r\n            </button>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"isLoading\" class=\"text-center\">\r\n              <div class=\"spinner-border text-primary\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n            <div v-else-if=\"alertRules.length === 0\" class=\"text-center text-muted\">\r\n              <p>No alert rules configured. Create your first rule to get started.</p>\r\n            </div>\r\n            <div v-else>\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-hover\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Name</th>\r\n                      <th>AOI</th>\r\n                      <th>Condition</th>\r\n                      <th>Threshold</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"rule in alertRules\" :key=\"rule.id\">\r\n                      <td>{{ rule.name }}</td>\r\n                      <td>{{ rule.aoi_name }}</td>\r\n                      <td>{{ rule.condition }}</td>\r\n                      <td>{{ rule.threshold }}</td>\r\n                      <td>\r\n                        <span class=\"badge\" :class=\"rule.is_active ? 'bg-success' : 'bg-secondary'\">\r\n                          {{ rule.is_active ? 'Active' : 'Inactive' }}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <button class=\"btn btn-sm btn-outline-primary me-1\" @click=\"editRule(rule)\">\r\n                          <i class=\"bi bi-pencil\"></i>\r\n                        </button>\r\n                        <button class=\"btn btn-sm btn-outline-danger\" @click=\"deleteRule(rule.id)\">\r\n                          <i class=\"bi bi-trash\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Recent Alerts -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h5 class=\"mb-0\">Recent Alerts</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"alerts.length === 0\" class=\"text-center text-muted\">\r\n              <p>No recent alerts</p>\r\n            </div>\r\n            <div v-else>\r\n              <div v-for=\"alert in alerts\" :key=\"alert.id\" class=\"alert\" :class=\"getAlertClass(alert.level)\">\r\n                <div class=\"d-flex justify-content-between align-items-start\">\r\n                  <div>\r\n                    <h6 class=\"alert-heading\">{{ alert.title }}</h6>\r\n                    <p class=\"mb-1\">{{ alert.message }}</p>\r\n                    <small class=\"text-muted\">\r\n                      AOI: {{ alert.aoi_name }} | {{ formatDate(alert.created_at) }}\r\n                    </small>\r\n                  </div>\r\n                  <button class=\"btn-close\" @click=\"dismissAlert(alert.id)\"></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Create/Edit Modal -->\r\n    <div class=\"modal fade\" :class=\"{ show: showCreateModal }\" :style=\"{ display: showCreateModal ? 'block' : 'none' }\" tabindex=\"-1\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">{{ editingRule ? 'Edit Alert Rule' : 'Create Alert Rule' }}</h5>\r\n            <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"saveRule\">\r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Rule Name *</label>\r\n                <input v-model=\"ruleForm.name\" type=\"text\" class=\"form-control\" required>\r\n              </div>\r\n              \r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">AOI *</label>\r\n                <select v-model=\"ruleForm.aoi_id\" class=\"form-select\" required>\r\n                  <option value=\"\">Select an AOI</option>\r\n                  <option v-for=\"aoi in aois\" :key=\"aoi.id\" :value=\"aoi.id\">\r\n                    {{ aoi.name }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div class=\"row\">\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label class=\"form-label\">Condition</label>\r\n                  <select v-model=\"ruleForm.condition\" class=\"form-select\">\r\n                    <option value=\"change_percentage\">Change Percentage</option>\r\n                    <option value=\"vegetation_loss\">Vegetation Loss</option>\r\n                    <option value=\"urban_expansion\">Urban Expansion</option>\r\n                    <option value=\"water_changes\">Water Changes</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-md-6 mb-3\">\r\n                  <label class=\"form-label\">Threshold</label>\r\n                  <input v-model=\"ruleForm.threshold\" type=\"number\" class=\"form-control\" min=\"0\" step=\"0.1\">\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"mb-3\">\r\n                <label class=\"form-label\">Notification Method</label>\r\n                <div class=\"form-check\">\r\n                  <input v-model=\"ruleForm.email_enabled\" class=\"form-check-input\" type=\"checkbox\" id=\"emailEnabled\">\r\n                  <label class=\"form-check-label\" for=\"emailEnabled\">Email Notifications</label>\r\n                </div>\r\n                <div class=\"form-check\">\r\n                  <input v-model=\"ruleForm.webhook_enabled\" class=\"form-check-input\" type=\"checkbox\" id=\"webhookEnabled\">\r\n                  <label class=\"form-check-label\" for=\"webhookEnabled\">Webhook Notifications</label>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"form-check mb-3\">\r\n                <input v-model=\"ruleForm.is_active\" class=\"form-check-input\" type=\"checkbox\" id=\"ruleActive\">\r\n                <label class=\"form-check-label\" for=\"ruleActive\">\r\n                  Rule is active\r\n                </label>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeModal\">Cancel</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"saveRule\">\r\n              {{ editingRule ? 'Update' : 'Create' }} Rule\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Modal backdrop -->\r\n    <div v-if=\"showCreateModal\" class=\"modal-backdrop fade show\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Alerts',\r\n  data() {\r\n    return {\r\n      showCreateModal: false,\r\n      editingRule: null,\r\n      ruleForm: {\r\n        name: '',\r\n        aoi_id: '',\r\n        condition: 'change_percentage',\r\n        threshold: 15,\r\n        email_enabled: true,\r\n        webhook_enabled: false,\r\n        is_active: true\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('alerts', ['alerts', 'alertRules', 'isLoading']),\r\n    ...mapGetters('aoi', ['aois'])\r\n  },\r\n  methods: {\r\n    ...mapActions('alerts', ['fetchAlerts', 'fetchAlertRules', 'createAlertRule', 'updateAlertRule', 'deleteAlertRule']),\r\n    ...mapActions('aoi', ['fetchAOIs']),\r\n    \r\n    async refreshData() {\r\n      try {\r\n        await Promise.all([\r\n          this.fetchAlerts(),\r\n          this.fetchAlertRules(),\r\n          this.fetchAOIs()\r\n        ])\r\n      } catch (error) {\r\n        console.error('Error refreshing data:', error)\r\n      }\r\n    },\r\n    \r\n    editRule(rule) {\r\n      this.editingRule = rule\r\n      this.ruleForm = { ...rule }\r\n      this.showCreateModal = true\r\n    },\r\n    \r\n    async saveRule() {\r\n      try {\r\n        if (this.editingRule) {\r\n          await this.updateAlertRule({ ...this.ruleForm, id: this.editingRule.id })\r\n        } else {\r\n          await this.createAlertRule(this.ruleForm)\r\n        }\r\n        this.closeModal()\r\n        await this.refreshData()\r\n      } catch (error) {\r\n        console.error('Error saving rule:', error)\r\n      }\r\n    },\r\n    \r\n    async deleteRule(ruleId) {\r\n      if (confirm('Are you sure you want to delete this alert rule?')) {\r\n        try {\r\n          await this.deleteAlertRule(ruleId)\r\n          await this.refreshData()\r\n        } catch (error) {\r\n          console.error('Error deleting rule:', error)\r\n        }\r\n      }\r\n    },\r\n    \r\n    async dismissAlert(alertId) {\r\n      // TODO: Implement alert dismissal\r\n      console.log('Dismiss alert:', alertId)\r\n    },\r\n    \r\n    closeModal() {\r\n      this.showCreateModal = false\r\n      this.editingRule = null\r\n      this.ruleForm = {\r\n        name: '',\r\n        aoi_id: '',\r\n        condition: 'change_percentage',\r\n        threshold: 15,\r\n        email_enabled: true,\r\n        webhook_enabled: false,\r\n        is_active: true\r\n      }\r\n    },\r\n    \r\n    getAlertClass(level) {\r\n      const classes = {\r\n        'info': 'alert-info',\r\n        'warning': 'alert-warning',\r\n        'error': 'alert-danger',\r\n        'success': 'alert-success'\r\n      }\r\n      return classes[level] || 'alert-info'\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      return new Date(dateString).toLocaleDateString()\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.refreshData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.alerts {\r\n  padding: 20px;\r\n}\r\n\r\n.modal.show {\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.alert {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.alert-heading {\r\n  margin-bottom: 0.5rem;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}